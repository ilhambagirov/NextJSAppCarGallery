{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useState } from \"react\";\nimport classes from \"./MainNavigation.module.css\";\nimport agent from \"../../api/agent\";\nimport Link from \"next/link\";\n\nfunction Search() {\n  const {\n    0: word,\n    1: setWord\n  } = useState();\n  const {\n    0: searchedCars,\n    1: setsearchedCars\n  } = useState();\n\n  const seacrhedCarLink = () => {\n    setsearchedCars(null);\n  };\n\n  const searchHandler = e => {\n    setWord(e.target.value);\n    console.log(word === null || word === void 0 ? void 0 : word.length);\n\n    if ((word === null || word === void 0 ? void 0 : word.length) === 1) {\n      setsearchedCars(null);\n    }\n  };\n\n  useEffect(() => {\n    const handler = setTimeout(async () => {\n      if ((word === null || word === void 0 ? void 0 : word.length) > 0) {\n        const response = await agent.Cars.search(word);\n        setsearchedCars(response);\n      }\n    }, 1000);\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [word]);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(\"input\", {\n      onChange: searchHandler,\n      className: classes.search,\n      type: \"text\"\n    }), searchedCars != null && /*#__PURE__*/_jsx(\"div\", {\n      className: classes.searchedCarsWrapper,\n      children: /*#__PURE__*/_jsx(\"ul\", {\n        children: searchedCars === null || searchedCars === void 0 ? void 0 : searchedCars.map(car => /*#__PURE__*/_jsx(\"li\", {\n          onClick: seacrhedCarLink,\n          children: /*#__PURE__*/_jsx(Link, {\n            href: `/cars/${car.id}`,\n            className: classes.seacrhedCarLink,\n            children: /*#__PURE__*/_jsxs(\"a\", {\n              className: classes.seacrhedCarLink,\n              children: [/*#__PURE__*/_jsx(\"span\", {\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  className: classes.imageURl,\n                  src: car.imageUrl\n                })\n              }), /*#__PURE__*/_jsxs(\"span\", {\n                className: classes.carname,\n                children: [car.brand, \" \", car.model]\n              })]\n            })\n          })\n        }))\n      })\n    })]\n  });\n}\n\nexport default Search;","map":null,"metadata":{},"sourceType":"module"}