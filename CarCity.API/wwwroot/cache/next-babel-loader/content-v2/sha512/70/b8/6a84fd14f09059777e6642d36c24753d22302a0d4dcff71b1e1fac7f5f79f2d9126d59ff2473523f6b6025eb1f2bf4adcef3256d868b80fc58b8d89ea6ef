{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/Users/ilham.baghirov/Desktop/nextCarGallery/NextJSAppCarGallery/NextJSAppCarGallery/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/ilham.baghirov/Desktop/nextCarGallery/NextJSAppCarGallery/NextJSAppCarGallery/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useEffect, useState } from \"react\";\nimport classes from \"./MainNavigation.module.css\";\nimport agent from \"../../api/agent\";\nimport Link from \"next/link\";\n\nfunction Search() {\n  var _useState = useState(),\n      word = _useState[0],\n      setWord = _useState[1];\n\n  var _useState2 = useState(),\n      searchedCars = _useState2[0],\n      setsearchedCars = _useState2[1];\n\n  var seacrhedCarLink = function seacrhedCarLink() {\n    setsearchedCars(null);\n  };\n\n  var searchHandler = function searchHandler(e) {\n    setWord(e.target.value);\n    console.log(word === null || word === void 0 ? void 0 : word.length);\n\n    if ((word === null || word === void 0 ? void 0 : word.length) === 1) {\n      setsearchedCars(null);\n    }\n  };\n\n  useEffect(function () {\n    var handler = setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!((word === null || word === void 0 ? void 0 : word.length) > 0)) {\n                _context.next = 5;\n                break;\n              }\n\n              _context.next = 3;\n              return agent.Cars.search(word);\n\n            case 3:\n              response = _context.sent;\n              setsearchedCars(response);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })), 1000);\n    return function () {\n      clearTimeout(handler);\n    };\n  }, [word]);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(\"input\", {\n      onChange: searchHandler,\n      className: classes.search,\n      type: \"text\"\n    }), searchedCars != null && /*#__PURE__*/_jsx(\"div\", {\n      className: classes.searchedCarsWrapper,\n      children: /*#__PURE__*/_jsx(\"ul\", {\n        children: searchedCars === null || searchedCars === void 0 ? void 0 : searchedCars.map(function (car) {\n          return /*#__PURE__*/_jsx(\"li\", {\n            onClick: seacrhedCarLink,\n            children: /*#__PURE__*/_jsx(Link, {\n              href: \"/cars/\".concat(car.id),\n              className: classes.seacrhedCarLink,\n              children: /*#__PURE__*/_jsxs(\"a\", {\n                className: classes.seacrhedCarLink,\n                children: [/*#__PURE__*/_jsx(\"span\", {\n                  children: /*#__PURE__*/_jsx(\"img\", {\n                    className: classes.imageURl,\n                    src: car.imageUrl\n                  })\n                }), /*#__PURE__*/_jsxs(\"span\", {\n                  className: classes.carname,\n                  children: [car.brand, \" \", car.model]\n                })]\n              })\n            })\n          });\n        })\n      })\n    })]\n  });\n}\n\nexport default Search;","map":null,"metadata":{},"sourceType":"module"}